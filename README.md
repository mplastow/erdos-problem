# erdos-problem

The programs in this repo do one thing:
* Generate a grid of points that are visible from the origin
* Remove points from the grid where both coordinates are prime
* Remove dead-end points that are not on paths that lead out of the grid in an up-and-to-the-right direction

Note that there may be bugs since I've developed the algorithms for doing this task by feel, and haven't yet written a rigorous test suite.

## C++
`erdos` is a C++ program that generates and caches prime numbers at startup to enable fast prime checking while running. Thanks to the `primesieve` library, prime generation and checking coordinates for coprimes are both very fast, even for large (1000 x 1000) grids of large numbers (~100,000,000).

On the other hand, `erdos` doesn't do any visualization right now, aside from printing to the console. 

The easiest way to interact with the program is by treating it like a script: edit the variables indicated by the `EDIT` comments in `main()`, then build and run.

### Dependencies
C++17 or newer (mainly for `std::gcd`)

The `primesieve` library is used to generate primes quickly. For more information: [[primesieve on GitHub](https://github.com/kimwalisch/primesieve/)]
To get `primesieve` on Ubuntu, use `apt install primesieve`

### Building and running
`erdos` was authored on Ubuntu 24.04 LTS running on Windows Subsystem for Linux. Other platforms haven't been tested.

#### Linux
Building and running `erdos` is done by running the simple build script in the `cpp` directory:
```
cd cpp
sh build.sh
./erdos
```

### To-do list
* Improve design of grid data format so that it is easier to use and manipulate correctly
* Write tests to support correctness in calculation
* Fix (literal) edge case of failing to remove points on the left and bottom edges of the grid that lead nowhere
* Design and write a backtracking algorithm to determine all possible paths given a grid spec
* Put a visualization frontend on the program with a GUI (looking into `matplotlib-cpp` and `matplot++` libraries)

## Python
The Python script `visible_point_grid.py` has been translated from the C++ code using ChatGPT, with some cleanup afterward. It uses the following libraries:
* `primePy` to precompute primes
* `numpy` to reshape the coordinate data for plotting
* `matplotlib` to plot the grid

The Python script has plenty of room for performance improvement: it takes about 110 seconds to precompute primes up to 1,000,000 on my machine. On the other hand, it visualizes the grid with a nice GUI and should run in any Python environment. For smaller primes, it's definitely fast enough.

## Lean
The Lean directory contains an attempt to have ChatGPT provide a proof of a solution to the problem. It wasn't successful, but the code has been saved as a curiosity.

All code in the `lean` directory was generated by ChatGPT and has not been modified beyond changing some of the import statements. There is no guarantee it compiles, nor that it proves anything if it does compile.